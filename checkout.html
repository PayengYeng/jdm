<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout your product</title>
    <link rel="icon" href="https://imgur.com/7EhoJPv.png" type="image/x-icon" />
    <style>
      body {
        font-family: "Roboto", sans-serif;
        margin: 0;
        padding: 0;
        background-color: #1c1c1c;
        color: #f0f0f0;
      }
      header {
        background: linear-gradient(90deg, #333, #111);
        color: white;
        text-align: center;
        padding: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }
      .container {
        width: 80%;
        margin: auto;
        overflow: hidden;
        padding: 20px;
        background: #2c2c2c;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        margin-top: 20px;
      }
      footer {
        background: #111;
        color: white;
        text-align: center;
        padding: 10px;
        margin-top: 20px;
        box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.3);
      }
      .menu-toggle {
        position: absolute;
        top: 20px;
        left: 20px;
        cursor: pointer;
        display: flex;
        align-items: center;
        background-color: #444;
        padding: 10px;
        border-radius: 5px;
        color: white;
        transition: background-color 0.3s;
        z-index: 1000;
      }
      .menu-toggle:hover {
        background-color: #222;
      }
      .menu-toggle .icon {
        display: flex;
        flex-direction: column;
        margin-right: 10px;
      }
      .menu-toggle span {
        display: block;
        width: 20px;
        height: 2px;
        background-color: white;
        margin-bottom: 5px;
        transition: all 0.3s;
      }
      .menu-toggle span:hover {
        background-color: #ccc;
      }
      .menu-text {
        font-size: 18px;
        color: white;
      }
      .menu {
        display: none;
        position: absolute;
        top: 60px;
        left: 20px;
        background-color: #333;
        color: #fff;
        padding: 0 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        max-height: 0;
        overflow: hidden;
        opacity: 0;
        transition: max-height 0.5s ease, padding 0.5s ease, opacity 0.5s ease;
        z-index: 999;
      }
      .menu.active {
        display: block;
        max-height: 500px;
        padding: 20px;
        opacity: 1;
      }
      .menu ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .menu ul li {
        margin: 10px 0;
      }
      .menu ul li a {
        text-decoration: none;
        color: #f0f0f0;
        font-size: 18px;
        padding: 10px 20px;
        display: block;
        border-radius: 5px;
        transition: background-color 0.3s, color 0.3s;
        text-align: center;
      }
      .menu ul li a:hover {
        background-color: #555;
        color: #fff;
        transform: scale(1.05);
      }
      form {
        display: flex;
        flex-direction: column;
      }
      form label {
        margin: 10px 0 5px;
      }
      form input,
      form select {
        padding: 10px;
        border: 1px solid #444;
        border-radius: 5px;
        margin-bottom: 10px;
        font-size: 16px;
        background-color: #444;
        color: #f0f0f0;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      table,
      th,
      td {
        border: 1px solid #444;
      }
      th,
      td {
        padding: 15px;
        text-align: left;
      }
      th {
        background-color: #4b6cb7; /* ganti warna order summary */
      }
      h2,
      h3 {
        color: #f0f0f0;
      }
      .btn {
        background-color: #4b6cb7;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .btn:hover {
        background-color: #182848;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      #thank-you-message {
        display: none;
        color: #4b6cb7;
        font-size: 20px;
        margin-top: 20px;
        animation: fadeIn 1s ease-in-out;
      }
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.5);
      }
      .modal-content {
        background-color: #2c2c2c;
        margin: 15% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%;
        max-width: 500px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        color: #f0f0f0;
      }
      .modal-header {
        font-size: 20px;
        margin-bottom: 10px;
      }
      .modal-footer {
        text-align: right;
      }
      .modal-footer button {
        background-color: #4b6cb7;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .modal-footer button:hover {
        background-color: #182848;
      }
      .total-box {
        background: linear-gradient(135deg, #243f7d, #000000);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        margin-top: 20px;
        text-align: center;
        color: #f0f0f0;
        transition: transform 0.3s, box-shadow 0.3s;
      }
      .total-box:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
      }
      .total-box h3 {
        margin: 10px 0;
        font-size: 24px;
      }
      @media (max-width: 768px) {
        .container {
          width: 95%;
          padding: 10px;
        }
        header {
          padding: 10px;
        }
        .menu-toggle {
          top: 10px;
          left: 10px;
          padding: 5px;
        }
        .menu {
          top: 50px;
          left: 10px;
          padding: 10px;
        }
        .menu ul li a {
          font-size: 16px;
          padding: 8px 16px;
        }
        form input,
        form select {
          font-size: 14px;
          padding: 8px;
        }
        table th,
        table td {
          padding: 10px;
        }
        .btn {
          padding: 8px 16px;
        }
        .total-box h3 {
          font-size: 20px;
        }
        .modal-content {
          width: 90%;
          margin: 20% auto;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Checkout your product</h1>
      <img
        src="https://i.imgur.com/CaaJQ6Z.gif"
        alt="Logo JDM Autohause"
        width="10%"
      />
    </header>

    <div class="menu-toggle">
      <div class="icon">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <div class="menu-text">Menu</div>
    </div>

    <div id="menu" class="menu">
      <ul>
        <li><a href="JDM Autohause.html">Main Page</a></li>
        <li><a href="shopping.html">Showroom</a></li>
        <li><a href="sparepart.html">Spare part & Acc</a></li>
        <li><a href="comunity.html">Comunity</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="testimonial.html">Testimonial</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="event.html">Events</a></li>
      </ul>
    </div>

    <div class="container">
      <h2>Shipping Address</h2>
      <form id="checkout-form">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required /><br /><br />
        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required /><br /><br />
        <label for="city">City:</label>
        <input type="text" id="city" name="city" required /><br /><br />
        <label for="postal-code">Postal Code:</label>
        <input
          type="text"
          id="postal-code"
          name="postal-code"
          required
        /><br /><br />
        <label for="contact">Contact:</label>
        <input type="text" id="contact" name="contact" required /><br /><br />
        <label for="shipping">Shipping Method:</label>
        <select id="shipping" name="shipping">
          <option value="standard">Standard - $5.00</option>
          <option value="express">Express - $15.00</option>
          <option value="speed-of-light">Speed of Light - $1000.00</option>
        </select>
        <br /><br />
        <label for="estimated-delivery">Estimated Delivery:</label>
        <input
          type="text"
          id="estimated-delivery"
          name="estimated-delivery"
          readonly
        /><br /><br />
        <label for="voucher">Voucher Code:</label>
        <input type="text" id="voucher" name="voucher" /><br /><br />
        <label for="payment-method">Payment Method:</label>
        <select id="payment-method" name="payment-method">
          <option value="credit-card">Credit Card</option>
          <option value="paypal">PayPal</option>
          <option value="bank-transfer">Bank Transfer</option>
          <option value="dana">Dana</option>
          <option value="ovo">Ovo</option>
          <option value="qris">Qris</option>
        </select>
        <br /><br />
        <div id="bank-options" style="display: none">
          <label for="bank">Select Bank:</label>
          <select id="bank" name="bank">
            <option value="bca">BCA</option>
            <option value="bni">BNI</option>
            <option value="bri">BRI</option>
            <option value="mandiri">Mandiri</option>
            <option value="cimb-niaga">CIMB Niaga</option>
            <option value="permata">Permata</option>
            <option value="mega">Mega</option>
            <option value="btn">BTN</option>
            <option value="maybank">Maybank</option>
            <option value="jago">Bank Jago</option>
          </select>
          <br /><br />
        </div>
        <div id="qris-qr-code" style="display: none; text-align: center">
          <label for="qr-code">Scan QR Code:</label>
          <br />
          <img
            src="https://i.imgur.com/DEkGHRV.png"
            alt="QR Code"
            id="qr-code"
            style="width: 150px; height: 150px"
          />
          <br /><br />
        </div>
        <button type="submit" class="btn">Submit</button>
      </form>

      <h2>Order Summary</h2>
      <table>
        <thead>
          <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Subtotal</th>
          </tr>
        </thead>
        <tbody id="order-summary"></tbody>
      </table>
      <div class="total-box">
        <h3 id="total-price">Total: $0</h3>
        <h3 id="total-payment">Total Payment: $0</h3>
      </div>
    </div>

    <div id="confirmation-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">Konfirmasi</div>
        <p>Pastikan data yang dimasukkan telah sesuai.</p>
        <div class="modal-footer">
          <button id="confirm-btn">OK</button>
          <button id="cancel-btn">Cancel</button>
        </div>
      </div>
    </div>

    <div id="thank-you-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">Terimakasih</div>
        <p>Terimakasih sudah berbelanja di JDM Autohause.</p>
        <div class="modal-footer">
          <button id="close-thank-you-btn">Close</button>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer-logo-container">
        <img
          src="https://i.imgur.com/7EhoJPv.png"
          alt="Logo Kiri"
          class="footer-logo left-logo"
          width="50px"
          style="float: left; margin-right: 10px"
        />
        <p style="display: inline-block">
          &copy; 2025 JDM Autohause. All Rights Reserved.
        </p>
        <img
          src="https://i.imgur.com/7EhoJPv.png"
          alt="Logo Kanan"
          class="footer-logo right-logo"
          width="50px"
          style="float: right; margin-left: 10px"
        />
      </div>
    </footer>

    <script>
      const menuToggle = document.querySelector(".menu-toggle");
      const menu = document.querySelector("#menu");
      menuToggle.addEventListener("click", () => {
        menu.classList.toggle("active");
      });

      const urlParams = new URLSearchParams(window.location.search);
      const product = urlParams.get("product");
      const quantity = parseInt(urlParams.get("quantity"), 10);
      const unitPrice = parseFloat(urlParams.get("unitPrice"));

      console.log("Received data:", { product, quantity, unitPrice });

      const orderSummary = document.getElementById("order-summary");
      const totalPriceElement = document.getElementById("total-price");
      const shippingSelect = document.getElementById("shipping");
      const estimatedDeliveryInput =
        document.getElementById("estimated-delivery");
      const totalPaymentElement = document.getElementById("total-payment");

      shippingSelect.addEventListener("change", updateTotalPayment);

      function updateTotalPayment() {
        const shippingCost = parseFloat(
          shippingSelect.value === "standard"
            ? 5.0
            : shippingSelect.value === "express"
            ? 15.0
            : 1000.0
        );
        const subtotal = quantity * unitPrice;
        const total = subtotal + shippingCost;
        totalPriceElement.textContent = `Total: $${subtotal.toFixed(2)}`;
        totalPaymentElement.textContent = `Total Payment: $${total.toFixed(2)}`;

        const estimatedDelivery =
          shippingSelect.value === "standard"
            ? "3-5 days"
            : shippingSelect.value === "express"
            ? "1-2 days"
            : "Instant";
        estimatedDeliveryInput.value = estimatedDelivery;
      }

      if (product && quantity && unitPrice) {
        const subtotal = quantity * unitPrice;
        orderSummary.innerHTML = `
          <tr>
            <td>${product}</td>
            <td>${quantity}</td>
            <td>$${unitPrice.toFixed(2)}</td>
            <td>$${subtotal.toFixed(2)}</td>
          </tr>
        `;
        totalPriceElement.textContent = `Total: $${subtotal.toFixed(2)}`;
        updateTotalPayment();
      } else {
        console.error("Missing product data:", {
          product,
          quantity,
          unitPrice,
        });
      }

      const form = document.getElementById("checkout-form");
      const confirmationModal = document.getElementById("confirmation-modal");
      const confirmBtn = document.getElementById("confirm-btn");
      const cancelBtn = document.getElementById("cancel-btn");
      const thankYouModal = document.getElementById("thank-you-modal");
      const closeThankYouBtn = document.getElementById("close-thank-you-btn");
      const paymentMethodSelect = document.getElementById("payment-method");
      const bankOptions = document.getElementById("bank-options");
      const qrisQrCode = document.getElementById("qris-qr-code");

      paymentMethodSelect.addEventListener("change", function () {
        if (paymentMethodSelect.value === "bank-transfer") {
          bankOptions.style.display = "block";
          qrisQrCode.style.display = "none";
        } else if (paymentMethodSelect.value === "qris") {
          qrisQrCode.style.display = "block";
          bankOptions.style.display = "none";
        } else {
          bankOptions.style.display = "none";
          qrisQrCode.style.display = "none";
        }
      });

      form.addEventListener("submit", function (event) {
        event.preventDefault();
        const name = document.getElementById("name").value;
        const address = document.getElementById("address").value;
        const city = document.getElementById("city").value;
        const postalCode = document.getElementById("postal-code").value;
        const contact = document.getElementById("contact").value;
        const shipping = document.getElementById("shipping").value;
        const paymentMethod = document.getElementById("payment-method").value;
        const bank =
          paymentMethod === "bank-transfer"
            ? document.getElementById("bank").value
            : null;

        if (
          name &&
          address &&
          city &&
          postalCode &&
          contact &&
          shipping &&
          paymentMethod &&
          (paymentMethod !== "bank-transfer" || bank)
        ) {
          confirmationModal.style.display = "block";
        } else {
          alert("Please fill in all required fields.");
        }
      });

      confirmBtn.addEventListener("click", function () {
        confirmationModal.style.display = "none";
        thankYouModal.style.display = "block";
      });

      cancelBtn.addEventListener("click", function () {
        confirmationModal.style.display = "none";
      });

      closeThankYouBtn.addEventListener("click", function () {
        thankYouModal.style.display = "none";
        window.location.href = "sparepart.html";
      });

      window.addEventListener("click", function (event) {
        if (event.target == confirmationModal) {
          confirmationModal.style.display = "none";
        }
        if (event.target == thankYouModal) {
          thankYouModal.style.display = "none";
          window.location.href = "sparepart.html";
        }
      });
    </script>
  </body>
</html>
